(this["webpackJsonpmuziejus-webgame"]=this["webpackJsonpmuziejus-webgame"]||[]).push([[0],{243:function(e,t,n){},244:function(e,t,n){},264:function(e,t){},266:function(e,t){},304:function(e,t){},306:function(e,t){},334:function(e,t){},335:function(e,t){},340:function(e,t){},342:function(e,t){},349:function(e,t){},368:function(e,t){},393:function(e,t){},510:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),i=n(30),c=n.n(i),r=(n(243),n(244),n(81)),o=n(45),l=n(46),d=n(49),u=n(48),g=n(24),h=n(232),j=n.n(h),b=n(511),m=n(512),f=n(513),p=n(514),O=n(521),x=n(523),v=n(515),k=n(522),I=n(516),y=n(517),w=n(233),C=n.n(w),D=(n(252),n(3));var B=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={isDropDownOpen:!1,isModalOpen:!1,image:"",file:null},a.toggleDropDown=a.toggleDropDown.bind(Object(g.a)(a)),a.onDrop=a.onDrop.bind(Object(g.a)(a)),a.toggleModal=a.toggleModal.bind(Object(g.a)(a)),a.imageAdd=a.imageAdd.bind(Object(g.a)(a)),a}return Object(l.a)(n,[{key:"toggleDropDown",value:function(){this.setState({isDropDownOpen:!this.state.isDropDownOpen})}},{key:"toggleModal",value:function(){this.setState({isModalOpen:!this.state.isModalOpen})}},{key:"onDrop",value:function(e){e.length&&this.setState({file:new Blob(e,{type:"image/png"})})}},{key:"takeScreenshot",value:function(){var e=document.getElementById("canvas-container");null!=e&&C()(e,{allowTaint:!1,windowWidth:e.width,windowHeight:e.height}).then((function(e){!function(e,t){var n=document.createElement("a");"string"===typeof n.download?(n.href=e,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)):window.open(e)}(e.toDataURL(),"paveiksliukas.png")})),this.setState({isDropDownOpen:!this.state.isDropDownOpen})}},{key:"imageAdd",value:function(){null!==this.state.file?(this.props.addImage(URL.createObjectURL(this.state.file),"400px","400px","50vw","50vh","image"),this.setState({file:null}),this.toggleModal()):alert("Pasirinkite paveiksliuk\u0105!")}},{key:"render",value:function(){var e=this;return Object(D.jsxs)("div",{children:[Object(D.jsx)(b.a,{className:"unselect",dark:!0,children:Object(D.jsxs)("div",{className:"container",children:[Object(D.jsx)(m.a,{className:"mr-auto",href:"/",children:Object(D.jsx)("img",{src:"assets/images/logo.png",height:"30",width:"41",alt:"logo"})}),Object(D.jsx)(f.a,{className:"ml-auto",children:Object(D.jsxs)(p.a,{isOpen:this.state.isDropDownOpen,toggle:this.toggleDropDown,size:"lg",children:[Object(D.jsx)(O.a,{caret:!0,id:"drop-custom",children:"..."}),Object(D.jsxs)(x.a,{style:{zIndex:"9999999999"},right:!0,children:[Object(D.jsx)(v.a,{header:!0,children:"Pasirinkimai"}),Object(D.jsx)(v.a,{onClick:function(){return e.takeScreenshot()},children:"parsi\u0173sk nuotrauk\u0105"}),Object(D.jsx)(v.a,{onClick:function(){return e.toggleModal()},children:"\u012ekelti savo nuotrauk\u0105"})]})]})})]})}),Object(D.jsxs)(k.a,{zIndex:"9999999",isOpen:this.state.isModalOpen,toggle:this.toggleModal,children:[Object(D.jsx)(I.a,{toggle:this.toggleModal,children:"Pasirinkite paveiksliuk\u0105"}),Object(D.jsx)(j.a,{withIcon:!0,withPreview:!0,buttonText:"Choose images",onChange:this.onDrop,imgExtension:[".jpg",".gif",".png",".gif"],maxFileSize:5242880,singleImage:!0}),Object(D.jsx)(y.a,{children:Object(D.jsx)("button",{onClick:this.imageAdd,className:"tool-btn p-1",children:"Ikelti paveiksliuk\u0105"})})]})]})}}]),n}(a.Component),S=n(33),N=n(34),A=function(e){var t=e.ClickFunction;return e.page>0?Object(D.jsx)("div",{className:"col-2 d-flex justify-content-center align-items-center unselect",children:Object(D.jsxs)("button",{onClick:function(){return t()},className:"unstyled",children:[Object(D.jsx)(S.a,{icon:N.a,className:"active arrow"})," "]})}):Object(D.jsx)("div",{className:"col-2 d-flex justify-content-center align-items-center unselect",children:Object(D.jsxs)("button",{className:"unstyled",children:[Object(D.jsx)(S.a,{icon:N.a,className:"arrow"})," "]})})},P=function(e){var t=e.ClickFunction;return e.page<2?Object(D.jsx)("div",{className:"col-2 d-flex justify-content-center align-items-center unselect",children:Object(D.jsxs)("button",{onClick:function(){return t()},className:"unstyled",children:[Object(D.jsx)(S.a,{icon:N.b,className:"active arrow"})," "]})}):Object(D.jsx)("div",{className:"col-2 d-flex justify-content-center align-items-center unselect",children:Object(D.jsxs)("button",{className:"unstyled",children:[Object(D.jsx)(S.a,{icon:N.b,className:"arrow"})," "]})})},F=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).imageClick=function(e,t){var n,s,i=t.image,c=document.getElementById("canvas-container").getBoundingClientRect();n=c.width/2,s=c.height/2,a.props.onImageClick(i[0],300,300,n,s,"image"),a.setState(a.state)},a.state={curPage:0,page:[[["./assets/detal\u0117s-architekt\u016bros/detal\u0117s_akantas.png",0,!0],["./assets/detal\u0117s-architekt\u016bros/detal\u0117s_dor\u0117nin\u0117 kolona.png",1,!0],["./assets/detal\u0117s-architekt\u016bros/detal\u0117s_durys atidarytos.png",2,!0],["./assets/detal\u0117s-architekt\u016bros/detal\u0117s_durys puo\u0161nios.png",3,!0],["./assets/detal\u0117s-architekt\u016bros/detal\u0117s_durys.png",4,!0]],[["./assets/fasadai/fasadas_antkapinis paminklas.png",5,!0],["./assets/fasadai/fasadas_itali\u0161ka koply\u010dia.png",6,!0],["./assets/fasadai/fasadas_mykolo png.png",7,!0]],[["./assets/persona\u017eai/Animacija - vitruvijus rate.png",8,!0],["./assets/persona\u017eai/persona\u017eai_bona.png",9,!0],["./assets/persona\u017eai/persona\u017eai_darbininkas.png",10,!0],["./assets/persona\u017eai/persona\u017eai_mykolas mojuoja.png",11,!0],["./assets/persona\u017eai/persona\u017eai_mykolas s\u0117di.png",12,!0],["./assets/persona\u017eai/persona\u017eai_renesanso \u017emogus.png",13,!0],["./assets/persona\u017eai/persona\u017eai_sapiega.png",14,!0],["./assets/persona\u017eai/persona\u017eai_vienuol\u0117s.png",15,!0]]]},a.RenderImageRow=a.RenderImageRow.bind(Object(g.a)(a)),a.handleArrowDecrease=a.handleArrowDecrease.bind(Object(g.a)(a)),a.handleArrowIncrease=a.handleArrowIncrease.bind(Object(g.a)(a)),a.imageClick=a.imageClick.bind(Object(g.a)(a)),a}return Object(l.a)(n,[{key:"handleArrowDecrease",value:function(){this.state.curPage>=0&&this.setState({curPage:this.state.curPage-1})}},{key:"handleArrowIncrease",value:function(){this.setState({curPage:this.state.curPage+1})}},{key:"RenderImageRow",value:function(){var e=this,t=this.state.page[this.state.curPage].map((function(t){if(t[2])return Object(D.jsxs)("div",{className:"images m-1",children:[" ",Object(D.jsx)("img",{onClick:function(n){return e.imageClick(n,{image:t})},height:"100%",width:"100%",src:t[0]},t[1])]})}));return Object(D.jsxs)("div",{className:"row",children:[Object(D.jsx)(A,{ClickFunction:function(){return e.handleArrowDecrease()},page:this.state.curPage}),Object(D.jsx)("div",{className:"col-8",children:Object(D.jsx)("div",{className:"image-row",children:t})}),Object(D.jsx)(P,{ClickFunction:function(){return e.handleArrowIncrease()},page:this.state.curPage})]})}},{key:"render",value:function(){return Object(D.jsx)("div",{children:this.RenderImageRow()})}}]),n}(a.Component),R=n(518),M=n(519),z=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={delButtonPressed:!1,createButtonPressed:!1},a.RenderSideBar=a.RenderSideBar.bind(Object(g.a)(a)),a.RenderMobileBar=a.RenderMobileBar.bind(Object(g.a)(a)),a.DelBtnClickFunction=a.DelBtnClickFunction.bind(Object(g.a)(a)),a.createBtnClickFunction=a.createBtnClickFunction.bind(Object(g.a)(a)),a}return Object(l.a)(n,[{key:"DelBtnClickFunction",value:function(){this.props.onDelButtonClick(),this.setState({delButtonPressed:!this.state.delButtonPressed})}},{key:"createBtnClickFunction",value:function(){this.props.createWordButtonToggle(),this.setState({createButtonPressed:!this.state.createButtonPressed})}},{key:"changeCreatebtn",value:function(){this.setState({createButtonPressed:!this.state.createButtonPressed})}},{key:"RenderSideBar",value:function(){return Object(D.jsxs)("div",{className:"col-2 d-none d-md-block",children:[Object(D.jsx)(R.a,{children:Object(D.jsx)("button",{style:{backgroundColor:this.state.createButtonPressed?"#d40b1b":"#512DA8"},onClick:this.createBtnClickFunction,className:"tool-btn mb-2",children:Object(D.jsx)(S.a,{icon:N.d})})}),Object(D.jsx)(R.a,{children:Object(D.jsx)("button",{style:{backgroundColor:this.state.delButtonPressed?"#d40b1b":"#512DA8"},onClick:this.DelBtnClickFunction,className:"tool-btn mb-2",children:Object(D.jsx)(S.a,{icon:N.c})})})]})}},{key:"RenderMobileBar",value:function(){return Object(D.jsxs)("div",{className:"row d-md-none mb-2",children:[Object(D.jsx)(M.a,{children:Object(D.jsx)("button",{style:{backgroundColor:this.state.createButtonPressed?"#d40b1b":"#512DA8"},onClick:this.createBtnClickFunction,className:"tool-btn mb-2",children:Object(D.jsx)(S.a,{icon:N.d})})}),Object(D.jsxs)(M.a,{children:[Object(D.jsx)("button",{style:{backgroundColor:this.state.delButtonPressed?"#d40b1b":"#512DA8"},onClick:this.DelBtnClickFunction,className:"tool-btn mb-2",children:Object(D.jsx)(S.a,{icon:N.c})}),"  "]})]})}},{key:"render",value:function(){return Object(D.jsxs)(D.Fragment,{children:[this.RenderSideBar(),this.RenderMobileBar()]})}}]),n}(a.Component),W=n(520),_=function(e){var t=e.deleteImage,n=e.onSelectImage,a=e.image,s=a.cordx-a.width/2,i=a.cordy-a.height/2;return"image"==a.type?Object(D.jsx)("img",{onClick:function(e){return t(e,{image:a})},onMouseDown:function(e){return n(e,{image:a})},onTouchStart:function(e){return n(e,{image:a})},className:"draggable ".concat(a.selected?"selected":""),style:{zIndex:a.zIndex,top:i,left:s},src:a.imgUrl,width:a.width,height:a.height},a.id):"textbox"==a.type?Object(D.jsx)("input",{placeholder:".....",onClick:function(e){return t(e,{image:a})},onMouseDown:function(e){return n(e,{image:a})},onTouchStart:function(e){return n(e,{image:a})},className:"draggable ".concat(a.selected?"selected":""),style:{zIndex:a.zIndex,top:a.cordy,left:a.cordx},width:a.width,height:a.height,type:"text"},a.id):void 0},T=function(e){var t=e.dragImages.map((function(t){return Object(D.jsx)(_,{deleteImage:e.deleteImage,onSelectImage:e.onSelectImage,image:t})}));return Object(D.jsx)(D.Fragment,{children:t})},E=function(e){return Object(D.jsx)(D.Fragment,{children:Object(D.jsx)("div",{onClick:e.createNewWord,id:"canvas-container",children:Object(D.jsx)(T,{deleteImage:e.deleteImage,onSelectImage:e.onSelectImage,dragImages:e.dragImage})})})},Z=function(){return Object(D.jsx)("div",{className:"footer unselect"})},L=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).createNewArray=function(e){var t=[].concat(Object(r.a)(a.state.dragImage),[e]);return null!=a.state.selectedID&&(t.find((function(e){return e.id===a.state.selectedID})).selected=!1,t.find((function(e){return e.id===a.state.selectedID})).zIndex=a.state.selectedZindex),t},a.delButtonToggle=function(){var e=a.state.deleteOnSelect?"default":"alias";a.setState({deleteOnSelect:!a.state.deleteOnSelect,cursor:e})},a.createWordButtonToggle=function(){var e=a.state.createWord?"default":"alias";a.setState({createWord:!a.state.createWord,cursor:e})},a.onImageClick=function(e,t,n,s,i,c){var r=a.state.dragImage.length,o={type:c,imgUrl:e,width:t,height:n,cordx:s,cordy:i,id:r,zIndex:999999,selected:!0},l=a.createNewArray(o);a.setState({dragImage:l,selectedID:r,selectedZindex:a.state.selectedZindex+1})},a.deleteImage=function(e,t){var n=t.image;if(a.state.deleteOnSelect){e.target.remove();var s=Object(r.a)(a.state.dragImage);s.filter((function(e){return e!=={image:n}})),a.setState({dragImage:s,selectedID:null})}},a.createNewWord=function(e){var t=document.getElementById("canvas-container").getBoundingClientRect();if(a.state.createWord){var n,s;if("touchstart"==e.type||"touchmove"==e.type||"touchend"==e.type||"touchcancel"==e.type){var i="undefined"===typeof e.originalEvent?e:e.originalEvent,c=i.touches[0]||i.changedTouches[0];n=c.pageX,s=c.pageY}else"mousedown"==e.type||"mouseup"==e.type||"mousemove"==e.type||"mouseover"==e.type||"mouseout"==e.type||"mouseenter"==e.type||e.type,n=e.clientX,s=e.clientY;console.log(n);var r=n-t.left,o=s-t.top;a.onImageClick("","auto","auto",r,o,"textbox"),a.createWordButtonToggle(),a.toolbtns.current.changeCreatebtn()}},a.onSelectImage=function(e,t){var n=t.image;if(n.id!=a.state.selectedID){var s=Object(r.a)(a.state.dragImage);null!=a.state.selectedID&&(s.find((function(e){return e.id===a.state.selectedID})).selected=!1,s.find((function(e){return e.id===a.state.selectedID})).zIndex=a.state.selectedZindex),s.find((function(e){return e.id===n.id})).selected=!0,s.find((function(e){return e.id===n.id})).zIndex=99999,a.setState({dragImage:s,selectedID:n.id,selectedZindex:a.state.selectedZindex+1})}},a.CancelSelect=function(e){var t=e.target.nodeName;if(null!=a.state.selectedID&&"IMG"!=t){var n=Object(r.a)(a.state.dragImage);n.find((function(e){return e.id===a.state.selectedID})).selected=!1,n.find((function(e){return e.id===a.state.selectedID})).zIndex=a.state.selectedZindex,a.setState({dragImage:n,selectedID:null})}},a.state={dragImage:[],selectedID:null,deleteOnSelect:!1,createWord:!1,cursor:"default",selectedZindex:1},a.toolbtns=s.a.createRef(),a}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return window.onclick=function(t){return e.CancelSelect(t)},Object(D.jsxs)("div",{style:{cursor:this.state.cursor},children:[Object(D.jsx)(B,{addImage:this.onImageClick}),Object(D.jsxs)(W.a,{fluid:"lg unselect",children:[Object(D.jsx)("div",{className:"row mt-2 unselect",children:Object(D.jsx)(F,{onImageClick:this.onImageClick})}),Object(D.jsxs)("div",{className:"row mt-2",children:[Object(D.jsx)(z,{ref:this.toolbtns,createWordButtonToggle:this.createWordButtonToggle,onDelButtonClick:this.delButtonToggle}),Object(D.jsxs)("div",{className:"col-12 col-md-10",children:[" ",Object(D.jsx)(E,{createNewWord:this.createNewWord,deleteImage:this.deleteImage,onSelectImage:this.onSelectImage,dragImage:this.state.dragImage})," "]})]})]}),Object(D.jsx)(Z,{})]})}}]),n}(a.Component),U=n(80),J=n.n(U);function X(e){var t=e.target,n=(parseFloat(t.getAttribute("data-x"))||0)+e.dx,a=(parseFloat(t.getAttribute("data-y"))||0)+e.dy;t.style.transform="translate("+n+"px, "+a+"px)",t.setAttribute("data-x",n),t.setAttribute("data-y",a)}J()(".draggable").draggable({inertia:!1,modifiers:[J.a.modifiers.restrictRect({endOnly:!0})],autoScroll:!0,listeners:{move:X,end:function(e){}}}).resizable({edges:{left:!0,right:!0,bottom:!0,top:!0},listeners:{move:function(e){var t=e.target,n=parseFloat(t.getAttribute("data-x"))||0,a=parseFloat(t.getAttribute("data-y"))||0;t.style.width=e.rect.width+"px",t.style.height=e.rect.height+"px",n+=e.deltaRect.left,a+=e.deltaRect.top,t.style.transform="translate("+n+"px,"+a+"px)",t.setAttribute("data-x",n),t.setAttribute("data-y",a),t.textContent=Math.round(e.rect.width)+"\xd7"+Math.round(e.rect.height)}},modifiers:[J.a.modifiers.restrictEdges({}),J.a.modifiers.restrictSize({min:{width:100,height:50}})],inertia:!1}),window.dragMoveListener=X;var Y=function(){return Object(D.jsx)(L,{})},G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,524)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),i(e),c(e)}))},H=(n(507),n(238));c.a.render(Object(D.jsx)(s.a.StrictMode,{children:Object(D.jsx)(H.a,{children:Object(D.jsx)(Y,{})})}),document.getElementById("root")),G()}},[[510,1,2]]]);
//# sourceMappingURL=main.7e5bd426.chunk.js.map